language: java

jdk:
  - oraclejdk8

#Only checkout from master
branches:
  only:
  - master
  
build:
  ci:
    #Create folders for test and code coverage
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage

    #Clean Install the uber aggregator
    - mvn clean install -P copy-docs-for-deployment

#Commit updated docs to gh-pages github granch    
after_success:
  - git add images/*
  - git add *.html
  - git commit -m "Push documentation after successful build from commit $COMMIT [skip ci]" #This is important!
  - git push origin master:gh-pages
